{"name":"Combinatorialgame","tagline":"simple game","body":"<!doctype html>\r\n<html>\r\n<head>\r\n    <meta charset=\"utf-8\" />\r\n    <title>GAME</title>\r\n    <link rel=\"stylesheet\" href=\"http://yui.yahooapis.com/pure/0.2.1/pure-min.css\">\r\n    <style>\r\n        .hide_pile{visibility: hidden;width: 50px;height:50px;}\r\n        .show_pile{width: 50px;height:50px;}\r\n        .hide{display: none;}\r\n    </style>    \r\n    <script src=\"http://yui.yahooapis.com/3.11.0/build/yui/yui-min.js\"></script>\r\n    <script>\r\n        YUI().use('event','node','event-hover','node-event-delegate',function(Y){\r\n            \r\n            var maxcol,pilear;\r\n            var stand_img='http://i44.tinypic.com/14c5u75.jpg';\r\n            var stone_img='http://i41.tinypic.com/inqtmx.jpg';\r\n            var smile_img='http://i43.tinypic.com/24mtkbr.jpg';\r\n            var think_img='http://i42.tinypic.com/2nk6yqp.jpg';\r\n            var win_img='http://i39.tinypic.com/2wohjck.jpg';\r\n            var lose_img='http://i40.tinypic.com/2z6e5o6.png';\r\n            \r\n            Y.one(\"#load_game\").on(\"click\",init);\r\n            Y.one(\"#data_table\").delegate(\"click\",changestate,\"td\");\r\n            Y.one(\"#rule_button\").on(\"hover\",togglEin,togglEout);\r\n            Y.one(\"#pile_count\").set('value','2,3,4,5');\r\n            init();\r\n            \r\n        \r\n            function togglEin() {\r\n                Y.one(\"#rule_content\").removeClass(\"hide\");\r\n            }\r\n            function togglEout() {\r\n                Y.one(\"#rule_content\").addClass(\"hide\");\r\n            }\r\n            function changestate() {\r\n                var id=this.get('id').split(\"_\");\r\n                if (id[0].substring(0,3)==\"yui\") return;\r\n                pilear[id[1]]=id[0]-1;\r\n                if(render(1))make_move();\r\n            }\r\n            function make_move() {\r\n                Y.one(\"#emoction\").setHTML('<br><br><br><br><br><br><br><a href=\"#\"><img src=\"'+think_img+'\" width=\"40%\" height=\"40%\"></a>');\r\n                \r\n                var last,ans;\r\n                ans=0;\r\n                \r\n                for (var i=0;i<pilear.length;i++) ans^=pilear[i];\r\n                if (ans==0) {\r\n                    for (var i=0;i<pilear.length;i++) {\r\n                        if (pilear[i]!=0) {\r\n                            pilear[i]-=1;\r\n                            break;\r\n                        }\r\n                    }\r\n                    setTimeout(function(){render(2);},1000);\r\n                    return;\r\n                }\r\n                \r\n                for (var i=31;i>=0;i--) {\r\n                    last=-1;\r\n                    ans=0;\r\n                    for (var j=0;j<pilear.length;j++) {\r\n                        if (parseInt(pilear[j]!=0 && pilear[j]&(1<<i))>0) {\r\n                            ans^=1;\r\n                            last=j;\r\n                        }\r\n                    }\r\n                    if (ans==1)\r\n                    {\r\n                        pilear[last]^=(1<<i);\r\n                        i--;\r\n                        while (i>=0) {\r\n                            ans=0;\r\n                            for (var j=0;j<pilear.length;j++) {\r\n                                if (pilear[j]!=0 && parseInt(pilear[j]&(1<<i))>0)\r\n                                    ans^=1;\r\n                            }\r\n                            if (ans==1)\r\n                                pilear[last]^=(1<<i);\r\n                            i--;\r\n                        }\r\n                    }\r\n                }\r\n                setTimeout(function(){render(2);},1000);\r\n            }\r\n            function getmaX() {\r\n                pilear=Y.one(\"#pile_count\").get('value').split(\",\");\r\n                res=-1;\r\n                for (var ii=0;ii<pilear.length;ii++) {\r\n                    res=(parseInt(res,10)>parseInt(pilear[ii]))?res:pilear[ii];\r\n                }\r\n                maxcol=res;\r\n            }\r\n            function init() {\r\n                getmaX();\r\n                render(\"2\");\r\n            }\r\n            function is_end(player) {\r\n                var ret=true;\r\n                for (var i=0;i<pilear.length;i++)\r\n                    if (pilear[i]!=0)ret=false;\r\n                \r\n                if (ret) {\r\n                    if (player==1) {\r\n                        Y.one(\"#emoction\").setHTML('<br><br><br><br><br><br><br><a href=\"#\"><img src=\"'+lose_img+'\" width=\"100%\" height=\"100%\"></a>');\r\n                        Y.one(\"#data_table\").setHTML('<br><br><br><br><br><br><br><h1>You Win!!</h1>');\r\n                    }\r\n                    else{\r\n                        Y.one(\"#emoction\").setHTML('<br><br><br><br><br><br><br><a href=\"#\"><img src=\"'+win_img+'\" width=\"100%\" height=\"100%\"></a>');\r\n                        Y.one(\"#data_table\").setHTML('<br><br><br><br><br><br><br><h1>You Lose!!</h1>');\r\n                    }\r\n                }\r\n                return ret;\r\n                \r\n            }\r\n            function render(player) {\r\n                \r\n                if(is_end(player))return false;\r\n                result='<table align=\"center\" valign=\"center\">';\r\n                result+='<thead></thead><tbody>';\r\n                for (var i=maxcol;i>=0;i--) {\r\n                    result+='<tr>';\r\n                    for (var j=0;j<pilear.length;j++) {\r\n                        if (!i) {\r\n                            result+='<td class=\"show_pile\"><a href=\"#\"><img src=\"'+stand_img+'\" width=\"50%\" height=\"50%\"></a></td>';\r\n                        }\r\n                        else if (parseInt(pilear[j],10)>=parseInt(i)) {\r\n                            \r\n                            result+='<td id=\"'+i+'_'+j+'\" class=\"show_pile\"><a href=\"#\"><img src=\"'+stone_img+'\" width=\"50%\" height=\"50%\"></a></td>';\r\n                        }\r\n                        else{\r\n                            result+='<td id=\"'+i+'_'+j+'\" class=\"hide_pile\"></td>';\r\n                        }\r\n                        if (j+1!=pilear.length) {\r\n                            result+='<td id=\"'+i+'_'+j+'*'+'\"class=\"hide_pile\"></td>';\r\n                        }\r\n                    }\r\n                    result+='</tr>';\r\n                }\r\n                result+='</tbody>';\r\n                result+='</table>';\r\n                Y.one(\"#data_table\").setHTML(result);\r\n                Y.one(\"#emoction\").setHTML('<br><br><br><br><br><br><br><a href=\"#\"><img src=\"'+smile_img+'\" width=\"40%\" height=\"40%\"></a>');\r\n                return true;\r\n            }\r\n        });    \r\n    </script>    \r\n</head>\r\n<body>\r\n    <form class=\"pure-form\">\r\n        <fieldset>\r\n            <legend class=\"game_head\">NIM GAME</legend>\r\n            <div class=\"pure-g-r\">\r\n                <div id=\"data\" class=\"pure-u-4-5\">\r\n                    <input id=\"pile_count\" type=\"text\" placeholder=\"Pile Count\">\r\n                    <button id=\"load_game\" type=\"button\" class=\"pure-button\" style=\"background: rgb(66, 184, 221);\">Load Game</button>    \r\n                </div>\r\n                <div id=\"rule\" class=\"pure-u-1-5\">\r\n                    <button id=\"rule_button\" type=\"button\" class=\"pure-button\">RULES</button>\r\n                    <div id=\"rule_content\" class=\"hide\" style=\"background:white;position:absolute;z-index:1;border:1px solid black;color: blue;\">You can choose any pile and remove any number of stones in a single move. Click on a stone to remove all stones above it. Player who makes the last move wins. You should make the first move!</div>\r\n                </div>\r\n                <div id=\"emoction\" class=\"pure-u-1-5\"></div>\r\n                <div id=\"data_table\" class=\"pure-u-4-5\"></div>\r\n            </div>    \r\n        </fieldset>\r\n    </form>\r\n    <div class=\"pure-g-r\">\r\n    </div>\r\n</body>\r\n</html>","google":"anuragmsingh","note":"Don't delete this file! It's used internally to help with page regeneration."}